environment_variables: []
project_files:
- abspath: ${test_case_tmpdir}/npm_bundled_lockfile3-source/package-lock.json
  template: |
    {
      "name": "npm-cachi2-bundled",
      "version": "1.0.0",
      "lockfileVersion": 3,
      "requires": true,
      "packages": {
        "": {
          "name": "npm-cachi2-bundled",
          "version": "1.0.0",
          "bundleDependencies": [
            "builtin-modules",
            "fecha"
          ],
          "license": "ISC",
          "dependencies": {
            "ansi-regex": "^2.0.0",
            "builtin-modules": "^1.1.1",
            "fecha": "^4.2.3"
          },
          "devDependencies": {
            "bundle-dependencies": "^1.0.2"
          }
        },
        "node_modules/ansi-regex": {
          "version": "2.0.0",
          "resolved": "file://${output_dir}/deps/npm/ansi-regex-2.0.0.tgz",
          "integrity": "sha512-jCcLjwL2jOaTcRIaJkoRteMwNXg8nfJvwT/9K91kwZhH7bf4lsprqZ2+Qa7tSp8BYtejobOCBkDreC07q0KmZw==",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/builtin-modules": {
          "version": "1.1.1",
          "resolved": "file://${output_dir}/deps/npm/builtin-modules-1.1.1.tgz",
          "integrity": "sha512-wxXCdllwGhI2kCC0MnvTGYTMvnVZTvqgypkiTI8Pa5tcz2i6VqsqwYGgqwXji+4RgCzms6EajE4IxiUH6HH8nQ==",
          "inBundle": true,
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies": {
          "version": "1.0.2",
          "resolved": "file://${output_dir}/deps/npm/bundle-dependencies-1.0.2.tgz",
          "integrity": "sha512-fM9Q9hJcX1ZYnyjveHTptFZqpLKDO2gdxRhuB8MNSYEQvC6kImDDH2038J/tHfcuV0JRGUj8n8axDY0AnFkXfA==",
          "bundleDependencies": [
            "yargs"
          ],
          "dev": true,
          "dependencies": {
            "yargs": "^4.1.0"
          },
          "bin": {
            "bundle-dependencies": "dist/bin/index.js"
          }
        },
        "node_modules/bundle-dependencies/node_modules/ansi-regex": {
          "version": "2.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/builtin-modules": {
          "version": "1.1.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/camelcase": {
          "version": "2.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/cliui": {
          "version": "3.1.0",
          "dev": true,
          "inBundle": true,
          "license": "ISC",
          "dependencies": {
            "string-width": "^1.0.1",
            "strip-ansi": "^3.0.0",
            "wrap-ansi": "^1.0.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/code-point-at": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "number-is-nan": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/decamelize": {
          "version": "1.1.2",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "escape-string-regexp": "^1.0.4"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/error-ex": {
          "version": "1.3.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "is-arrayish": "^0.2.1"
          }
        },
        "node_modules/bundle-dependencies/node_modules/escape-string-regexp": {
          "version": "1.0.5",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.8.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/find-up": {
          "version": "1.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "path-exists": "^2.0.0",
            "pinkie-promise": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/graceful-fs": {
          "version": "4.1.3",
          "dev": true,
          "inBundle": true,
          "license": "ISC",
          "engines": {
            "node": ">=0.4.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/hosted-git-info": {
          "version": "2.1.4",
          "dev": true,
          "inBundle": true,
          "license": "ISC"
        },
        "node_modules/bundle-dependencies/node_modules/invert-kv": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/is-arrayish": {
          "version": "0.2.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT"
        },
        "node_modules/bundle-dependencies/node_modules/is-builtin-module": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "builtin-modules": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/is-fullwidth-code-point": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "number-is-nan": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/is-utf8": {
          "version": "0.2.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT"
        },
        "node_modules/bundle-dependencies/node_modules/lcid": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "invert-kv": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/load-json-file": {
          "version": "1.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "graceful-fs": "^4.1.2",
            "parse-json": "^2.2.0",
            "pify": "^2.0.0",
            "pinkie-promise": "^2.0.0",
            "strip-bom": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/lodash.assign": {
          "version": "4.0.3",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "lodash.keys": "^4.0.0",
            "lodash.rest": "^4.0.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/lodash.keys": {
          "version": "4.0.3",
          "dev": true,
          "inBundle": true,
          "license": "MIT"
        },
        "node_modules/bundle-dependencies/node_modules/lodash.rest": {
          "version": "4.0.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT"
        },
        "node_modules/bundle-dependencies/node_modules/normalize-package-data": {
          "version": "2.3.5",
          "dev": true,
          "inBundle": true,
          "license": "BSD-2-Clause",
          "dependencies": {
            "hosted-git-info": "^2.1.4",
            "is-builtin-module": "^1.0.0",
            "semver": "2 || 3 || 4 || 5",
            "validate-npm-package-license": "^3.0.1"
          }
        },
        "node_modules/bundle-dependencies/node_modules/number-is-nan": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/object-assign": {
          "version": "4.0.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/os-locale": {
          "version": "1.4.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "lcid": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/parse-json": {
          "version": "2.2.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "error-ex": "^1.2.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/path-exists": {
          "version": "2.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "pinkie-promise": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/path-type": {
          "version": "1.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "graceful-fs": "^4.1.2",
            "pify": "^2.0.0",
            "pinkie-promise": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/pify": {
          "version": "2.3.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/pinkie": {
          "version": "2.0.4",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/pinkie-promise": {
          "version": "2.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "pinkie": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/pkg-conf": {
          "version": "1.1.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "find-up": "^1.0.0",
            "object-assign": "^4.0.1",
            "read-pkg": "^1.0.0",
            "symbol": "^0.2.1"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/read-pkg": {
          "version": "1.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "load-json-file": "^1.0.0",
            "normalize-package-data": "^2.3.2",
            "path-type": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/read-pkg-up": {
          "version": "1.0.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "find-up": "^1.0.0",
            "read-pkg": "^1.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/require-main-filename": {
          "version": "1.0.1",
          "dev": true,
          "inBundle": true,
          "license": "ISC"
        },
        "node_modules/bundle-dependencies/node_modules/semver": {
          "version": "5.1.0",
          "dev": true,
          "inBundle": true,
          "license": "ISC",
          "bin": {
            "semver": "bin/semver"
          }
        },
        "node_modules/bundle-dependencies/node_modules/spdx-correct": {
          "version": "1.0.2",
          "dev": true,
          "inBundle": true,
          "license": "Apache-2.0",
          "dependencies": {
            "spdx-license-ids": "^1.0.2"
          }
        },
        "node_modules/bundle-dependencies/node_modules/spdx-exceptions": {
          "version": "1.0.4",
          "dev": true,
          "inBundle": true,
          "license": "CC-BY-3.0"
        },
        "node_modules/bundle-dependencies/node_modules/spdx-expression-parse": {
          "version": "1.0.2",
          "dev": true,
          "inBundle": true,
          "license": "(MIT AND CC-BY-3.0)",
          "dependencies": {
            "spdx-exceptions": "^1.0.4",
            "spdx-license-ids": "^1.0.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/spdx-license-ids": {
          "version": "1.2.0",
          "dev": true,
          "inBundle": true,
          "license": "Unlicense"
        },
        "node_modules/bundle-dependencies/node_modules/string-width": {
          "version": "1.0.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "code-point-at": "^1.0.0",
            "is-fullwidth-code-point": "^1.0.0",
            "strip-ansi": "^3.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/strip-ansi": {
          "version": "3.0.1",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "ansi-regex": "^2.0.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/strip-bom": {
          "version": "2.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "is-utf8": "^0.2.0"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/symbol": {
          "version": "0.2.1",
          "dev": true,
          "inBundle": true,
          "license": "MPLv2.0"
        },
        "node_modules/bundle-dependencies/node_modules/validate-npm-package-license": {
          "version": "3.0.1",
          "dev": true,
          "inBundle": true,
          "license": "Apache-2.0",
          "dependencies": {
            "spdx-correct": "~1.0.0",
            "spdx-expression-parse": "~1.0.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/window-size": {
          "version": "0.2.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "bin": {
            "window-size": "cli.js"
          },
          "engines": {
            "node": ">= 0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/wrap-ansi": {
          "version": "1.0.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "string-width": "^1.0.1"
          },
          "engines": {
            "node": ">=0.10.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/y18n": {
          "version": "3.2.0",
          "dev": true,
          "inBundle": true,
          "license": "ISC"
        },
        "node_modules/bundle-dependencies/node_modules/yargs": {
          "version": "4.1.0",
          "dev": true,
          "inBundle": true,
          "license": "MIT",
          "dependencies": {
            "camelcase": "^2.0.1",
            "cliui": "^3.0.3",
            "decamelize": "^1.1.1",
            "os-locale": "^1.4.0",
            "pkg-conf": "^1.1.1",
            "read-pkg-up": "^1.0.1",
            "require-main-filename": "^1.0.0",
            "string-width": "^1.0.1",
            "window-size": "^0.2.0",
            "y18n": "^3.2.0",
            "yargs-parser": "^2.1.0"
          }
        },
        "node_modules/bundle-dependencies/node_modules/yargs-parser": {
          "version": "2.1.0",
          "dev": true,
          "inBundle": true,
          "license": "ISC",
          "dependencies": {
            "camelcase": "^2.1.0",
            "lodash.assign": "^4.0.2"
          }
        },
        "node_modules/fecha": {
          "version": "4.2.3",
          "resolved": "file://${output_dir}/deps/npm/fecha-4.2.3.tgz",
          "integrity": "sha512-OP2IUU6HeYKJi3i0z4A19kHMQoLVs4Hc+DPqqxI2h/DPZHTm/vjsfC6P0b4jCMy14XizLBqvndQ+UilD7707Jw==",
          "inBundle": true
        }
      }
    }
- abspath: ${test_case_tmpdir}/npm_bundled_lockfile3-source/package.json
  template: |
    {
      "name": "npm-cachi2-bundled",
      "version": "1.0.0",
      "description": "Verify cachi2's handling of direct and indirect bundled dependencies.",
      "main": "index.js",
      "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
      },
      "keywords": [],
      "author": "",
      "license": "ISC",
      "devDependencies": {
        "bundle-dependencies": "^1.0.2"
      },
      "dependencies": {
        "ansi-regex": "^2.0.0",
        "builtin-modules": "^1.1.1",
        "fecha": "^4.2.3"
      },
      "bundleDependencies": [
        "builtin-modules",
        "fecha"
      ]
    }
